function miuLibFunctions(){this.miuAddClass=function(t,e){-1==t.className.split(" ").indexOf(e)&&(t.className+=" "+e)},this.miuHasClass=function(t,e){if(!t||!t.className)return!1;return-1!=t.className.split(" ").indexOf(e)},this.miuRemoveClass=function(t,e){let i=t.className.split(" "),l=0,u="";for(l=0;l<i.length;l++)i[l]!==e&&(u+=i[l]+" ");t.className=u.trim()},this.miuWrap=function(t,e){e.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(e)},this.miuGetComputedStyleNumValue=function(t,e){let i=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(i.substring(0,i.length-2),10)},this.miuGetClearer=function(){let t=document.createElement("div");return this.miuAddClass(t,"miu-clearer"),t.style.clear="both",t},this.miuGetGap=function(t,e){let i=document.createElement("div");return this.miuAddClass(i,"miu-gap"),i.style.width=-1==t?"auto":t+"px",i.style.height=-1==e?"auto":e+"px",i.style.marginTop="0px",i.style.marginBottom="0px",i.style.marginLeft="0px",i.style.marginRight="0px",i},this.miuAddClearer=function(t){let e=this.miuGetClearer();t.appendChild(e)},this.miuAddGap=function(t,e,i){let l=this.miuGetGap(e,i);t.appendChild(l)},this.miuRemoveChildsWithClass=function(t,e){let i=t.childNodes,l=0;for(l=0;l<i.length;l++){let u=i[l];this.miuHasClass(u,e)&&t.removeChild(u)}}}var miuLib=new miuLibFunctions;function miuGridProcessor(){if(!miuLib)return console.log("MIU Library is required"),!1;let t=t=>{let e=t.className.split(" "),i=0;for(i=0;i<e.length;i++){let t=e[i];if(/miu-grid-cell-[0-9]{0,1}(d[1-9]){0,1}/.test(t)){let e=t.replace("miu-grid-cell-","");return e=e.replace("d","."),e=parseFloat(e,10)}}return 1},e=t=>{let e,i=document.querySelectorAll(t+" > .miu-grid-inner > .miu-grid-cell"),l=0;for(l=0;l<i.length;l++)(e=document.createElement("div")).style.marginLeft="auto",e.style.marginRight="auto",miuLib.miuAddClass(e,"miu-grid-cell-inner"),miuLib.miuWrap(i[l],e)},l=t=>{let e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",miuLib.miuAddClass(e,"miu-grid-inner"),miuLib.miuWrap(t,e)},u=(e,l,u,m,d,o,n,s)=>{n&&"autofill"===o&&(console.log("Full responsive is useless in autofill display mode! Disabling..."),n=!1,e.setAttribute("miugGridFullResponsive",n),console.log("Full responsive disabled!"));let g="responsive"===l,a=e.getAttribute("miugSelector"),p=miuLib.miuGetComputedStyleNumValue(e,"width")+5,h=Math.floor(p/(u+2*m)),c=p/h-2*m,f=m,b=document.querySelector(a+" > .miu-grid-inner"),y=Math.floor((c+1+2*f)*h);b.style.width=y+"px";let A=document.querySelectorAll(a+" > .miu-grid-inner > .miu-grid-cell > .miu-grid-cell-inner"),C=[],G=0,L=0;for(i=0;i<A.length;i++){let e=A[i].parentNode,l=t(e);A[i].style.width=u*l+"px";let r=f*(l-1),m=miuLib.miuGetComputedStyleNumValue(e,"padding-left");m+=miuLib.miuGetComputedStyleNumValue(e,"padding-right"),m+=miuLib.miuGetComputedStyleNumValue(e,"border-left-width");let o=c*l+2*r-(m+=miuLib.miuGetComputedStyleNumValue(e,"border-right-width"));if(o<u*l&&(A[i].style.width=o+"px"),n&&o>=y-2*f&&(o=y-2*f,A[i].style.width=o+"px"),g&&(A[i].style.width=o+"px"),e.style.width=o+"px",e.style.height="auto",e.style.position="relative",e.style.marginLeft=f+"px",e.style.marginRight=f+"px",e.style.marginTop=d+"px",e.style.marginBottom=d+"px",e.style.cssFloat=s,n)if(L<h&&L+l>h){let t=(y-((c+C.length)*L+2*C.length*f))/C.length,u=0;for(u=0;u<C.length;u++)g&&(A[C[u].index].style.width=miuLib.miuGetComputedStyleNumValue(A[C[u].index],"width")+t+"px"),C[u].cell.style.width=miuLib.miuGetComputedStyleNumValue(C[u].cell,"width")+t+"px";C=[{index:i,cell:e}],G=1,L=l}else L==h?(G=1,L=l,C=[{index:i,cell:e}]):(L+=l,C[G++]={index:i,cell:e})}if(n&&L<h){let t=(y-((c+C.length)*L+2*C.length*f))/C.length,e=0;for(e=0;e<C.length;e++)g&&(A[C[e].index].style.width=miuLib.miuGetComputedStyleNumValue(A[C[e].index],"width")+t+"px"),C[e].cell.style.width=miuLib.miuGetComputedStyleNumValue(C[e].cell,"width")+t+"px"}r(e,o,h,d,s)},r=(t,e,i,l,u)=>{"table"===e&&(m(t),d(t,i)),"autofill"===e&&(m(t),d(t,i),o(t,i,l,u))},m=t=>{let e=t.getAttribute("miugSelector"),i=document.querySelector(e+" > .miu-grid-inner");miuLib.miuRemoveChildsWithClass(i,"miu-clearer")},d=(e,i)=>{if(i>1){let l=e.getAttribute("miugSelector"),u=document.querySelector(l+" > .miu-grid-inner"),r=document.querySelectorAll(l+" > .miu-grid-inner > .miu-grid-cell"),m=0,d=0;for(m=0;m<r.length;m++){let e=r[m],l=t(e);d+l>i?(u.insertBefore(miuLib.miuGetClearer(),e),d=l):d+=l}}},o=(e,i,l,u)=>{if(i>1){let u=e.getAttribute("miugSelector"),r=(document.querySelector(u+" > .miu-grid-inner"),document.querySelectorAll(u+" > .miu-grid-inner > .miu-grid-cell"));if(r.length>1){let e=0,u=0;for(e=0;e<r.length;e++){if(1!=t(r[e]))return console.log("Autofill blank spaces option is not supported for multicol and splitted cell."),!1}let m=[];for(e=0;e<i;e++)m[e]=0;for(e=0;e<r.length;e+=i){let t=[],d=0;for(u=0;u<i;u++){let i=r[e+u];i?(t[u]=miuLib.miuGetComputedStyleNumValue(i,"height"),d=d<t[u]?t[u]:d,m[u]>0&&(i.style.marginTop=-m[u]+"px")):t[u]=0}for(u=0;u<i;u++){let i=r[e+u];i&&(i.style.height=d+m[u]+"px",m[u]+=d-t[u]-l)}}}}};this.miuInitGrid=function(t){if(t&&t.selector){let i=t.selector,r=document.querySelectorAll(i),m=0;for(m=0;m<r.length;m++){let i=r[m];if(!miuLib.miuHasClass(i,"miu-grid")){let r=t.gridContentWidthFixed?t.gridContentWidthFixed:i.getAttribute("miugGridContentWidthFixed")?i.getAttribute("miugGridContentWidthFixed"):"fixed",m=t.gridRefWidth?t.gridRefWidth:i.getAttribute("miugGridRefWidth")?parseFloat(i.getAttribute("miugGridRefWidth"),10):200,d=t.cellLeftRightGap?t.cellLeftRightGap/2:i.getAttribute("miugCellLeftRightGap")?parseFloat(i.getAttribute("miugCellLeftRightGap"),10)/2:0,o=t.cellTopBottomGap?t.cellTopBottomGap/2:i.getAttribute("miugCellTopBottomGap")?parseFloat(i.getAttribute("miugCellTopBottomGap"),10)/2:0,n=t.gridDisplay?t.gridDisplay:i.getAttribute("miugGridDisplay")?i.getAttribute("miugGridDisplay"):"table",s=t.gridFullResponsive?t.gridFullResponsive:!!i.getAttribute("miugGridFullResponsive")&&i.getAttribute("miugGridFullResponsive"),g=t.ltr?t.ltr:i.getAttribute("miugLtr")?i.getAttribute("miugLtr"):"ltr";if(i){miuLib.miuAddClass(i,"miu-grid");let t="miu-grid-"+(2475+document.querySelectorAll(".miu-grid").length);miuLib.miuAddClass(i,t);let a="."+t;i.setAttribute("miugSelector",a),i.setAttribute("miugGridContentWidthFixed",r),i.setAttribute("miugGridRefWidth",m),i.setAttribute("miugCellLeftRightGap",2*d),i.setAttribute("miugCellTopBottomGap",2*o),i.setAttribute("miugGridDisplay",n),i.setAttribute("miugGridFullResponsive",s),i.setAttribute("miugLtr",g),g="rtl"===g?"right":"left",l(i),miuLib.miuAddClearer(i),e(a),u(i,r,m,d,o,n,s,g)}}}}},document.onreadystatechange=(()=>{if("interactive"===document.readyState){let t=document.querySelectorAll(".miu-grid-container"),e=0;for(e=0;e<t.length;e++){let i=t[e];if(!miuLib.miuHasClass(i,"miu-grid")){miuLib.miuAddClass(i,"miu-grid-auto-initiated");let t="miu-grid-auto-initiated-"+(1356+e);miuLib.miuAddClass(i,t),this.miuInitGrid({selector:"."+t}),miuLib.miuRemoveClass(i,t)}}window.onresize=(t=>{let e=document.querySelectorAll(".miu-grid"),i=0;for(i=0;i<e.length;i++){let t=e[i],l=t.getAttribute("miugGridContentWidthFixed"),r=parseFloat(t.getAttribute("miugGridRefWidth"),10),m=parseFloat(t.getAttribute("miugCellLeftRightGap"),10)/2,d=parseFloat(t.getAttribute("miugCellTopBottomGap"),10)/2,o=t.getAttribute("miugGridDisplay"),n="true"===t.getAttribute("miugGridFullResponsive"),s="rtl"===t.getAttribute("miugLtr")?"right":"left";u(t,l,r,m,d,o,n,s)}})}})}var miuGrid=new miuGridProcessor;